apiVersion: v1
kind: ReplicationController
metadata:
  name: kafka-rc
spec:
  replicas: 1
  selector:
    name: kafka-pod
  template:
    metadata:
      labels: 
        name: kafka-pod
    spec:
      containers:
      - name: kafka
        image: 192.168.1.4:5000/liangguohun/kafka:1.0  # https://hub.docker.com/_/kafka
        imagePullPolicy: IfNotPresent
        env:
        - name: TZ
          value: Asia/Shanghai
        - name: BROKER_ID
          value: "0"
        - name: LISTENERS
          value: "PLAINTEXT://:9092" #org.apache.kafka.common.KafkaException: Socket server failed to bind to 192.168.1.4:9092: Address not available. 不要填ip不然报此错
        - name: ZOOKEEPER_CONNECT
          value: "192.168.1.4:2181"
        ports:
        - name: kafka
          containerPort: 9092
      restartPolicy: "Always"